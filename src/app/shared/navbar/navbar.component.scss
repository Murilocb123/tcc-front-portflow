$nav-itens-icons-size: 25px;
$pt-nav-link-size: 22.5px;
$bp-lg: 1024px !default;
$bg-active: rgba(0, 0, 0, 0.041);


@mixin text-ellipsis() {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* utilidade para acessibilidade */
.sr-only {
    position: absolute !important;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

.nav {
    margin-top: var(--topbar-h);
    position: fixed;
    inset: 0 auto 0 0;
    width: var(--nav-current, var(--nav-w));
    background: var(--nav-bg);
    color: var(--nav-fg);
    border-right: 1px solid var(--nav-border);
    display: flex;
    flex-direction: column;
    transition: width 0.2s ease;
    z-index: 50;

    /* Lista de navegação */
    &__list {
        list-style: none;
        margin-top: 20px;
        padding: 0;
        display: flex;
        flex-direction: column;
        gap: 0.50rem;
    }
    .list--bottom {
        margin-top: auto;
        margin-bottom: 20px;
    }
    &__item {
      margin: 0 5px 0 5px;  
    }

    &__link {
        display: flex;
        align-items: flex-end;
        gap: 0.75rem;
        padding: 0.6rem 0.75rem 0.6rem 0.5rem;
        text-decoration: none;
        color: var(--nav-fg);
        transition: color 0.15s ease, border-color 0.15s ease;
        padding-left: $pt-nav-link-size;

        &:hover {
            box-shadow: -5px 0px 0px 0px var(--secondary-color), 0px 0px 0px 0px var(--secondary-color);
            transition: color 0.15s ease, border-color 0.15s ease;
        }
    }

    &__icon {
        width: $nav-itens-icons-size;
        height: $nav-itens-icons-size;
        color: var(--nav-fg-dim);
        display: inline-grid;
        place-items: center;
        font-size: $nav-itens-icons-size;
    }

    &__label {
        font-size: 17px;
        @include text-ellipsis();
    }

    .is-active {
        box-shadow: -5px 0px 0px 0px var(--secondary-color), 0px 0px 0px 0px var(--secondary-color);
        background: $bg-active;
        .nav__icon {
            color: var(--nav-active);
        }
    }

    /* Botão flutuante: fica na borda direita, centralizado verticalmente */
    &__toggle {
        border: 0px;
        background: var(--secondary-color); /* cinza escuro ligeiramente diferente p/ destacar */
        color: #ffffff;
        cursor: pointer;
        transition: background 0.15s ease, box-shadow 0.15s ease,
            transform 0.2s ease;

        &:hover {
            background: var(--nav-active);
        }
        &:focus-visible {
            outline: 2px solid var(--nav-active);
            outline-offset: 2px;
        }

        &--floating {
            position: absolute;
            top: 30px;
            right: -18px; /* negativo p/ “morder” a borda */
            transform: translateY(-50%);
            width: 36px; /* “alça” estreita */
            height: 36px; /* facilita clique */
            border-radius: 9999px;
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.35);
            display: grid;
            place-items: center;
            z-index: 60; /* acima do conteúdo */
        }
    }

    &__chevron {
        transition: transform 0.2s ease;
    }

    /* Quando recolhido, a seta aponta p/ a direita (expandir) */
    &.nav--collapsed .nav__toggle--floating .nav__chevron {
        transform: rotate(180deg);
    }

    /* Quando recolhido, centraliza ícones e remove padding lateral */
    &.nav--collapsed {
        width: var(--nav-w-collapsed);

        .nav__link {
            padding-left: $pt-nav-link-size;
            padding-right: 0;
        }
    }
}


